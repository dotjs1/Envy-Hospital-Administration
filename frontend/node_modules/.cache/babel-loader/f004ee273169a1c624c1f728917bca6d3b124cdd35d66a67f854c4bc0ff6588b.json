{"ast":null,"code":"import React,{useState}from\"react\";import{ToastContainer,toast}from\"react-toastify\";import\"react-toastify/dist/ReactToastify.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const LoginOverlay=_ref=>{let{onLogin}=_ref;const[adminNumber,setAdminNumber]=useState(\"\");const[password,setPassword]=useState(\"\");const handleSubmit=async e=>{e.preventDefault();try{const res=await fetch(\" https://envy-hospital-backend.onrender.com/api/user/login\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({adminnumber:adminNumber,adminpass:password})});const data=await res.json();if(res.ok){alert(data.message);sessionStorage.setItem('tokenAuth',data.token);onLogin();}else{toast.error(data.error);}}catch(err){console.error(err);toast.error(\"Login failed. Please try again.\");}};return/*#__PURE__*/_jsxs(\"div\",{className:\"overlay d-flex justify-content-center align-items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card p-4 shadow\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-center mb-4\",children:\"Administrator Login\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Admin Number\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",value:adminNumber,onChange:e=>setAdminNumber(e.target.value),placeholder:\"Enter your admin number\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control\",value:password,onChange:e=>setPassword(e.target.value),placeholder:\"Enter your password\",required:true})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary w-100\",children:\"Login\"})]})]}),/*#__PURE__*/_jsx(ToastContainer,{})]});};export default LoginOverlay;","map":{"version":3,"names":["React","useState","ToastContainer","toast","jsx","_jsx","jsxs","_jsxs","LoginOverlay","_ref","onLogin","adminNumber","setAdminNumber","password","setPassword","handleSubmit","e","preventDefault","res","fetch","method","headers","body","JSON","stringify","adminnumber","adminpass","data","json","ok","alert","message","sessionStorage","setItem","token","error","err","console","className","children","onSubmit","type","value","onChange","target","placeholder","required"],"sources":["C:/Users/ACER/Envy Hospital (Admin)react.js/frontend/src/components/LoginOverlay.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { ToastContainer, toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nconst LoginOverlay = ({ onLogin }) => {\r\n  const [adminNumber, setAdminNumber] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      const res = await fetch(\" https://envy-hospital-backend.onrender.com/api/user/login\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({\r\n          adminnumber: adminNumber,\r\n          adminpass: password\r\n        })\r\n      });\r\n\r\n      const data = await res.json();\r\n      if (res.ok) {\r\n        alert(data.message);\r\n        sessionStorage.setItem('tokenAuth',data.token)\r\n        onLogin();\r\n      } else {\r\n        toast.error(data.error);\r\n      }\r\n    } catch (err) {\r\n      console.error(err);\r\n      toast.error(\"Login failed. Please try again.\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"overlay d-flex justify-content-center align-items-center\">\r\n      <div className=\"card p-4 shadow\">\r\n        <h2 className=\"text-center mb-4\">Administrator Login</h2>\r\n        <form onSubmit={handleSubmit}>\r\n          <div className=\"mb-3\">\r\n            <label className=\"form-label\">Admin Number</label>\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              value={adminNumber}\r\n              onChange={(e) => setAdminNumber(e.target.value)}\r\n              placeholder=\"Enter your admin number\"\r\n              required\r\n            />\r\n          </div>\r\n          <div className=\"mb-3\">\r\n            <label className=\"form-label\">Password</label>\r\n            <input\r\n              type=\"password\"\r\n              className=\"form-control\"\r\n              value={password}\r\n              onChange={(e) => setPassword(e.target.value)}\r\n              placeholder=\"Enter your password\"\r\n              required\r\n            />\r\n          </div>\r\n          <button type=\"submit\" className=\"btn btn-primary w-100\">\r\n            Login\r\n          </button>\r\n        </form>\r\n      </div>\r\n        <ToastContainer/>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoginOverlay;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}